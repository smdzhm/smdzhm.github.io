import{p as B}from"./chunks/@vueuse/motion.BBgqJD4T.js";import{i as j,l as D,_ as M,g as F,m as I}from"./app.DcjCIzSj.js";import"./chunks/dayjs.DIy8hCqT.js";import{u as A}from"./chunks/vue-router.CFs616YY.js";import{U as i,a9 as z,Z as n,X as y,Y as c,bB as o,b_ as w,F as C,bd as T,bf as L,aO as P,b3 as e,_ as v,a5 as E,bt as S,c6 as H,bp as O,bV as G,bh as Q,a8 as U,bb as Y,a6 as b,aQ as X}from"./framework.CNrCUcrf.js";import{b as Z,_ as q,a as J}from"./YunPostMeta.vue_vue_type_style_index_0_lang.BvVBZLqf.js";import{u as K}from"./post.YQ0uzjEm.js";import{u as W}from"./chunks/vue-i18n.BIXjxKCY.js";function tt(t){const l=A(),s=i(()=>Number.parseInt(l.params.page||"1")),a=i(()=>Math.ceil(t.total/t.pageSize)),u=i(()=>s.value===1||s.value===a.value?3:2);function f(r){return r===1||r===a.value?!0:r>s.value-u.value&&r<s.value+u.value}function p(r){return r===1?"/":`/page/${r}`}const _=i(()=>p(s.value-1)),g=i(()=>p(s.value+1)),d=i(()=>s.value>1),k=i(()=>s.value<a.value);return{curPage:s,totalPages:a,showPage:f,surLen:u,getTo:p,prevTo:_,nextTo:g,showPrev:d,showNext:k}}const et={class:"pagination"},st=z({__name:"YunPagination",props:{total:{},pageSize:{}},setup(t,{expose:l}){const s=t,{curPage:a,totalPages:u,showPage:f,getTo:p,surLen:_,prevTo:g,nextTo:d,showPrev:k,showNext:r}=tt({total:s.total,pageSize:s.pageSize});return l({curPage:a}),($,h)=>{const x=L("RouterLink");return e(),n("nav",et,[o(k)?(e(),y(x,{key:0,class:"page-number",to:o(g),"aria-label":"prev"},{default:w(()=>[...h[0]||(h[0]=[v("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0),(e(!0),n(C,null,T(o(u),m=>(e(),n(C,null,[o(f)(m)?(e(),y(x,{key:m,class:P(["page-number",o(a)===m&&"active"]),to:o(p)(m)},{default:w(()=>[E(S(m),1)]),_:2},1032,["class","to"])):m===o(a)-o(_)?(e(),n("span",{key:`prev-space-${m}`,class:"space",disabled:""}," ... ")):m===o(a)+o(_)?(e(),n("span",{key:`next-space-${m}`,class:"space",disabled:""}," ... ")):c("v-if",!0)],64))),256)),o(r)?(e(),y(x,{key:1,class:"page-number",to:o(d),"aria-label":"next"},{default:w(()=>[...h[1]||(h[1]=[v("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0)])}}}),ot={},nt={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function at(t,l){return e(),n("div",nt)}const lt=H(ot,[["render",at]]),rt=z({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const l=t,s=O(null);async function a(){const f={render:B(l.templateStr),data:()=>l.data};s.value=U(()=>Promise.resolve(f))}return G(()=>[l.templateStr,l.data],()=>{a()},{immediate:!0}),(u,f)=>(e(),y(Q(s.value)))}}),ct={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},it=["src","alt"],ut={class:"flex-center title text-2xl",text:"center",font:"serif black"},pt={flex:"~ grow col",w:"full",justify:"center",items:"center"},mt={key:0,py:"1"},ft={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},dt=["innerHTML"],vt={key:2,m:"b-5"},_t=["href"],gt={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},ht={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},yt=z({__name:"YunPostCard",props:{post:{}},setup(t){const l=t,{t:s}=W(),{$tO:a}=j(),{icon:u,styles:f,color:p}=K(l.post.type),_=Y("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),g=i(()=>p?"":l.post.postTitleClass||_.value);return(d,k)=>{const r=M,$=Z,h=rt,x=lt,m=q,R=J,V=D,N=L("RouterLink");return e(),y(N,{class:"post-card-link flex-center w-full",to:t.post.path||""},{default:w(()=>[b(V,{class:P(["w-full hover:scale-102 hover:z-1",t.post.cover?"post-card-image":"post-card"]),mx:"4",overflow:"hidden",style:X(o(f))},{default:w(()=>[v("div",ct,[t.post.cover?(e(),n("img",{key:0,src:t.post.cover,alt:o(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,it)):c("v-if",!0),v("div",{class:P(["flex flex-col items-center relative",t.post.cover&&"h-54"]),w:"full"},[b(r,{class:P(["post-title-link cursor-pointer",g.value]),to:t.post.path||"",m:"t-3"},{default:w(()=>[v("div",ut,[t.post.type?(e(),n("div",{key:0,class:P(["inline-flex",o(u)]),m:"r-1"},null,2)):c("v-if",!0),v("span",null,S(o(a)(t.post.title)),1)])]),_:1},8,["to","class"]),b($,{frontmatter:t.post},null,8,["frontmatter"]),v("div",pt,[t.post.excerpt_type==="text"?(e(),n("div",mt)):c("v-if",!0),t.post.excerpt?(e(),n(C,{key:1},[t.post.excerpt_type==="html"?(e(),n("div",ft,[b(h,{"template-str":t.post.excerpt},null,8,["template-str"])])):(e(),n("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:t.post.excerpt},null,8,dt))],64)):(e(),n("div",vt))]),c(' <div m="b-5" /> '),t.post.excerpt?(e(),y(x,{key:0})):c("v-if",!0),t.post.url?(e(),n("a",{key:1,href:t.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},S(o(s)("post.view_link")),9,_t)):c("v-if",!0)],2)]),c(" always show "),v("div",gt,[v("div",ht,[b(m,{m:"l-1",categories:t.post.categories},null,8,["categories"])]),t.post.tags?(e(),y(R,{key:0,m:"1",tags:t.post.tags},null,8,["tags"])):c("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),xt={flex:"~ col",class:"yun-post-list gap-4 items-center",w:"full",p:"x-4 lt-sm:0"},bt={key:0,py2:"",op50:"","text-center":""},Lt=z({__name:"YunPostList",props:{type:{},posts:{}},setup(t){const l=t,s=Y(),a=i(()=>{var d;return((d=s.value)==null?void 0:d.curPage)||1}),u=F(),f=I(),p=i(()=>f.value.pageSize),_=i(()=>(l.posts||u.postList).filter(d=>!d.hide)),g=i(()=>_.value.slice((a.value-1)*p.value,a.value*p.value));return(d,k)=>{const r=yt,$=st;return e(),n(C,null,[v("div",xt,[g.value.length?c("v-if",!0):(e(),n("div",bt," 博主还什么都没写哦～ ")),(e(!0),n(C,null,T(g.value,(h,x)=>(e(),y(r,{key:x,post:h},null,8,["post"]))),128))]),b($,{ref_key:"paginationRef",ref:s,class:"mt-5",total:_.value.length,"page-size":p.value},null,8,["total","page-size"])],64)}}});export{Lt as _};
